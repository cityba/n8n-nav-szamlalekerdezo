import callsites from 'callsites';
/**
 * @deprecated Use `UserError`, `OperationalError` or `UnexpectedError` instead.
 */
export class ApplicationError extends Error {
    level;
    tags;
    extra;
    packageName;
    constructor(message, { level, tags = {}, extra, ...rest } = {}) {
        super(message, rest);
        this.level = level ?? 'error';
        this.tags = tags;
        this.extra = extra;
        try {
            const filePath = callsites()[2].getFileName() ?? '';
            const match = /packages\/([^\/]+)\//.exec(filePath)?.[1];
            if (match)
                this.tags.packageName = match;
        }
        catch { }
    }
}
//# sourceMappingURL=application.error.js.map